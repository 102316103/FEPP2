<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.syscom.fep.mybatis.ext.mapper.RmouttExtMapper">


    <select id="getOverCLRFundLevel" parameterType="map" resultMap="com.syscom.fep.mybatis.mapper.RmouttMapper.BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="com.syscom.fep.mybatis.mapper.RmouttMapper.Base_Column_List" />
        from RMOUTT
        where RMOUTT_TXDATE = #{txdate,jdbcType=CHAR}
        AND RMOUTT_STAT IN ('04','99')
        AND (RMOUTT_FISC_RTN_CODE &lt;&gt; '0001' or RMOUTT_FISC_RTN_CODE is null)
        AND RMOUTT_OWPRIORITY &lt;&gt; '9'
        AND RMOUTT_TXAMT &gt; #{amount,jdbcType=DECIMAL}
        AND SUBSTR(RMOUTT_SENDER_BANK,1,3) = #{bkno,jdbcType=CHAR}
        ORDER BY RMOUTT_OWPRIORITY, RMOUTT_APTIME
    </select>
    <update id="updateByPrimaryKeySelectiveWithStat">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update RMOUTT
        <set>
            <if test="rmoutt.rmouttFepsubno != null">
                RMOUTT_FEPSUBNO = #{rmoutt.rmouttFepsubno,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttBatchno != null">
                RMOUTT_BATCHNO = #{rmoutt.rmouttBatchno,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttBrsno != null">
                RMOUTT_BRSNO = #{rmoutt.rmouttBrsno,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttRemtype != null">
                RMOUTT_REMTYPE = #{rmoutt.rmouttRemtype,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttTxamt != null">
                RMOUTT_TXAMT = #{rmoutt.rmouttTxamt,jdbcType=DECIMAL},
            </if>
            <if test="rmoutt.rmouttPostamt != null">
                RMOUTT_POSTAMT = #{rmoutt.rmouttPostamt,jdbcType=DECIMAL},
            </if>
            <if test="rmoutt.rmouttRecfee != null">
                RMOUTT_RECFEE = #{rmoutt.rmouttRecfee,jdbcType=DECIMAL},
            </if>
            <if test="rmoutt.rmouttActfee != null">
                RMOUTT_ACTFEE = #{rmoutt.rmouttActfee,jdbcType=DECIMAL},
            </if>
            <if test="rmoutt.rmouttAmtType != null">
                RMOUTT_AMT_TYPE = #{rmoutt.rmouttAmtType,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttServamtType != null">
                RMOUTT_SERVAMT_TYPE = #{rmoutt.rmouttServamtType,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttCategory != null">
                RMOUTT_CATEGORY = #{rmoutt.rmouttCategory,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttSenderBank != null">
                RMOUTT_SENDER_BANK = #{rmoutt.rmouttSenderBank,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttReceiverBank != null">
                RMOUTT_RECEIVER_BANK = #{rmoutt.rmouttReceiverBank,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttStanBkno != null">
                RMOUTT_STAN_BKNO = #{rmoutt.rmouttStanBkno,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttStan != null">
                RMOUTT_STAN = #{rmoutt.rmouttStan,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttFiscsno != null">
                RMOUTT_FISCSNO = #{rmoutt.rmouttFiscsno,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttRmsno != null">
                RMOUTT_RMSNO = #{rmoutt.rmouttRmsno,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttStat != null">
                RMOUTT_STAT = #{rmoutt.rmouttStat,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttT24No != null">
                RMOUTT_T24_NO = #{rmoutt.rmouttT24No,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttOwpriority != null">
                RMOUTT_OWPRIORITY = #{rmoutt.rmouttOwpriority,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttRegdate != null">
                RMOUTT_REGDATE = #{rmoutt.rmouttRegdate,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttRegtime != null">
                RMOUTT_REGTIME = #{rmoutt.rmouttRegtime,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttApdate != null">
                RMOUTT_APDATE = #{rmoutt.rmouttApdate,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttAptime != null">
                RMOUTT_APTIME = #{rmoutt.rmouttAptime,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttCanceldate != null">
                RMOUTT_CANCELDATE = #{rmoutt.rmouttCanceldate,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttCanceltime != null">
                RMOUTT_CANCELTIME = #{rmoutt.rmouttCanceltime,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttOrderdate != null">
                RMOUTT_ORDERDATE = #{rmoutt.rmouttOrderdate,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttSenddate != null">
                RMOUTT_SENDDATE = #{rmoutt.rmouttSenddate,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttSendtime != null">
                RMOUTT_SENDTIME = #{rmoutt.rmouttSendtime,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttOrgrmsno != null">
                RMOUTT_ORGRMSNO = #{rmoutt.rmouttOrgrmsno,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttOrgdate != null">
                RMOUTT_ORGDATE = #{rmoutt.rmouttOrgdate,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttOrgregFepno != null">
                RMOUTT_ORGREG_FEPNO = #{rmoutt.rmouttOrgregFepno,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttOrgStat != null">
                RMOUTT_ORG_STAT = #{rmoutt.rmouttOrgStat,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttBackReason != null">
                RMOUTT_BACK_REASON = #{rmoutt.rmouttBackReason,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttFiscRtnCode != null">
                RMOUTT_FISC_RTN_CODE = #{rmoutt.rmouttFiscRtnCode,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttOutName != null">
                RMOUTT_OUT_NAME = #{rmoutt.rmouttOutName,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttInName != null">
                RMOUTT_IN_NAME = #{rmoutt.rmouttInName,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttMemo != null">
                RMOUTT_MEMO = #{rmoutt.rmouttMemo,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttInOrgAccIdNo != null">
                RMOUTT_IN_ORG_ACC_ID_NO = #{rmoutt.rmouttInOrgAccIdNo,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttInAccIdNo != null">
                RMOUTT_IN_ACC_ID_NO = #{rmoutt.rmouttInAccIdNo,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttSupno1 != null">
                RMOUTT_SUPNO1 = #{rmoutt.rmouttSupno1,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttSupno2 != null">
                RMOUTT_SUPNO2 = #{rmoutt.rmouttSupno2,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttRegTlrno != null">
                RMOUTT_REG_TLRNO = #{rmoutt.rmouttRegTlrno,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttFiscSndCode != null">
                RMOUTT_FISC_SND_CODE = #{rmoutt.rmouttFiscSndCode,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttCbsRc != null">
                RMOUTT_CBS_RC = #{rmoutt.rmouttCbsRc,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttPending != null">
                RMOUTT_PENDING = #{rmoutt.rmouttPending,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttEjno1 != null">
                RMOUTT_EJNO1 = #{rmoutt.rmouttEjno1,jdbcType=INTEGER},
            </if>
            <if test="rmoutt.rmouttEjno2 != null">
                RMOUTT_EJNO2 = #{rmoutt.rmouttEjno2,jdbcType=INTEGER},
            </if>
            <if test="rmoutt.rmouttEjno3 != null">
                RMOUTT_EJNO3 = #{rmoutt.rmouttEjno3,jdbcType=INTEGER},
            </if>
            <if test="rmoutt.rmouttRecbrno != null">
                RMOUTT_RECBRNO = #{rmoutt.rmouttRecbrno,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttMacno != null">
                RMOUTT_MACNO = #{rmoutt.rmouttMacno,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttRemcif != null">
                RMOUTT_REMCIF = #{rmoutt.rmouttRemcif,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttRemtel != null">
                RMOUTT_REMTEL = #{rmoutt.rmouttRemtel,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttTaxno != null">
                RMOUTT_TAXNO = #{rmoutt.rmouttTaxno,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttOrgremtype != null">
                RMOUTT_ORGREMTYPE = #{rmoutt.rmouttOrgremtype,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttCif != null">
                RMOUTT_CIF = #{rmoutt.rmouttCif,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttGlUnit1 != null">
                RMOUTT_GL_UNIT1 = #{rmoutt.rmouttGlUnit1,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttGlUnit2 != null">
                RMOUTT_GL_UNIT2 = #{rmoutt.rmouttGlUnit2,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttGlUnit1a != null">
                RMOUTT_GL_UNIT1A = #{rmoutt.rmouttGlUnit1a,jdbcType=CHAR},
            </if>
            <if test="rmoutt.rmouttGlUnit2a != null">
                RMOUTT_GL_UNIT2A = #{rmoutt.rmouttGlUnit2a,jdbcType=CHAR},
            </if>
            <if test="rmoutt.updateUserid != null">
                UPDATE_USERID = #{rmoutt.updateUserid,jdbcType=INTEGER},
            </if>
            <if test="rmoutt.updateTime != null">
                UPDATE_TIME = #{rmoutt.updateTime,jdbcType=TIMESTAMP},
            </if>
            <if test="rmoutt.rmouttRemagentid != null">
                RMOUTT_REMAGENTID = #{rmoutt.rmouttRemagentid,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttRemagentname != null">
                RMOUTT_REMAGENTNAME = #{rmoutt.rmouttRemagentname,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttRemitterid != null">
                RMOUTT_REMITTERID = #{rmoutt.rmouttRemitterid,jdbcType=VARCHAR},
            </if>
            <if test="rmoutt.rmouttUseBal != null">
                RMOUTT_USE_BAL = #{rmoutt.rmouttUseBal,jdbcType=DECIMAL},
            </if>
        </set>
        where RMOUTT_TXDATE = #{rmoutt.rmouttTxdate,jdbcType=CHAR}
        and RMOUTT_BRNO = #{rmoutt.rmouttBrno,jdbcType=CHAR}
        and RMOUTT_ORIGINAL = #{rmoutt.rmouttOriginal,jdbcType=CHAR}
        and RMOUTT_FEPNO = #{rmoutt.rmouttFepno,jdbcType=CHAR}
        AND RMOUTT_STAT IN
        <foreach collection="stats" item="stat" index="index" open="(" close=")" separator=",">
            #{stat}
        </foreach>
    </update>

    <select id="queryByPrimaryKeyWithUpdLock" parameterType="map" resultMap="com.syscom.fep.mybatis.mapper.RmouttMapper.BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="com.syscom.fep.mybatis.mapper.RmouttMapper.Base_Column_List" />
        from RMOUTT
        where RMOUTT_TXDATE = #{rmouttTxdate,jdbcType=CHAR}
        and RMOUTT_BRNO = #{rmouttBrno,jdbcType=CHAR}
        and RMOUTT_ORIGINAL = #{rmouttOriginal,jdbcType=CHAR}
        and RMOUTT_FEPNO = #{rmouttFepno,jdbcType=CHAR}
        FOR UPDATE
    </select>

    <select id="queryByPrimaryKeyWithUpdLockWithTimeOut" parameterType="map" resultMap="com.syscom.fep.mybatis.mapper.RmouttMapper.BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="com.syscom.fep.mybatis.mapper.RmouttMapper.Base_Column_List" />
        from RMOUTT
        where RMOUTT_TXDATE = #{rmouttTxdate,jdbcType=CHAR}
        and RMOUTT_BRNO = #{rmouttBrno,jdbcType=CHAR}
        and RMOUTT_ORIGINAL = #{rmouttOriginal,jdbcType=CHAR}
        and RMOUTT_FEPNO = #{rmouttFepno,jdbcType=CHAR}
        FOR UPDATE WAIT 50
    </select>

    <select id="getRMOUTTForService11X1" resultMap="com.syscom.fep.mybatis.mapper.RmouttMapper.BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        SELECT <include refid="com.syscom.fep.mybatis.mapper.RmouttMapper.Base_Column_List" /> FROM (
        SELECT * FROM RMOUTT
        WHERE RMOUTT_STAT IN ('04','99')
        <if test="rmoutt.rmouttTxdate != null">
            AND RMOUTT_TXDATE = #{rmoutt.rmouttTxdate,jdbcType=CHAR}
        </if>
        <if test="rmoutt.rmouttSenderBank != null">
            AND SUBSTR(RMOUTT_SENDER_BANK,1,3) = #{rmoutt.rmouttSenderBank,jdbcType=CHAR}
        </if>
        <if test="rmoutt.rmouttFiscRtnCode != null">
            AND (RMOUTT_FISC_RTN_CODE IS NULL OR RMOUTT_FISC_RTN_CODE &lt;&gt; #{rmoutt.rmouttFiscRtnCode,jdbcType=CHAR})
        </if>
        <if test="rmoutt.rmouttFiscsno != null">
            AND (RMOUTT_FISCSNO IS NOT NULL OR RMOUTT_FISCSNO = #{rmoutt.rmouttFiscsno,jdbcType=CHAR})
        </if>
        <if test="rmoutt.rmouttOwpriority != null">
            AND (RMOUTT_OWPRIORITY IS NULL OR RMOUTT_OWPRIORITY NOT IN
            <foreach collection="owprioritys" item="owpriority" index="index" open="(" close=")" separator=",">
                #{owpriority}
            </foreach>
            )
        </if>
        <if test="rmoutt.rmouttTxamt != null">
            and (
            (RMOUTT_TXAMT &lt; #{bal,jdbcType=DECIMAL} - #{fund1,jdbcType=DECIMAL} and RMOUTT_TXAMT &gt;= #{OutwardCheckAmount,jdbcType=DECIMAL})
            or
            (RMOUTT_TXAMT &lt; #{bal,jdbcType=DECIMAL} - #{fund2,jdbcType=DECIMAL} and RMOUTT_TXAMT &lt; #{OutwardCheckAmount,jdbcType=DECIMAL})
            )
        </if>
        FETCH FIRST 1 ROWS ONLY
        ) DefRMOUTT JOIN (
        SELECT ALLBANK_BKNO,ALLBANK_UNIT_BANK FROM ALLBANK WHERE ALLBANK_BRNO = '000'
        ) DefALLBANK
        ON SUBSTR(DefRMOUTT.RMOUTT_RECEIVER_BANK,1,3) = DefALLBANK.ALLBANK_BKNO
        JOIN (
        SELECT ALLBANK_BKNO FROM ALLBANK WHERE ALLBANK_BRNO = '000' AND ALLBANK_RMFORWARD &lt;&gt; '1'
        ) UNIT_BANK
        ON DefALLBANK.ALLBANK_UNIT_BANK = UNIT_BANK.ALLBANK_BKNO
        <choose>
            <when test="rmoutt.rmouttFiscsno != null">
                ORDER BY RMOUTT_FISCSNO ASC,  RMOUTT_OWPRIORITY, RMOUTT_APTIME,RMOUTT_TXDATE,RMOUTT_BRNO,RMOUTT_ORIGINAL,RMOUTT_BATCHNO,RMOUTT_FEPNO
            </when>
            <otherwise>
                ORDER BY RMOUTT_FISCSNO DESC, RMOUTT_OWPRIORITY, RMOUTT_APTIME,RMOUTT_TXDATE,RMOUTT_BRNO,RMOUTT_ORIGINAL,RMOUTT_BATCHNO,RMOUTT_FEPNO
            </otherwise>
        </choose>
    </select>

    <select id="getRMSNOForUpdateRMOUTSNO" parameterType="map" resultMap="com.syscom.fep.mybatis.mapper.RmouttMapper.BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="com.syscom.fep.mybatis.mapper.RmouttMapper.Base_Column_List" />
        from RMOUTT
        where RMOUTT_TXDATE = #{rmouttTxdate,jdbcType=CHAR}
        AND RMOUTT_FISC_RTN_CODE = #{rmouttFiscRtnCode,jdbcType=CHAR}
        AND SUBSTR(RMOUTT_RECEIVER_BANK,1,3) IN (SELECT ALLBANK_BKNO FROM ALLBANK WHERE ALLBANK_UNIT_BANK = #{allbankUnitBank,jdbcType=CHAR})
        ORDER BY RMOUTT_RMSNO DESC
        FETCH FIRST 1 ROWS ONLY
    </select>

    <select id="getRMOUTTByDef" parameterType="map" resultMap="com.syscom.fep.mybatis.mapper.RmouttMapper.BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="com.syscom.fep.mybatis.mapper.RmouttMapper.Base_Column_List" />
        from RMOUTT
        <where>
            <if test="rmouttTxdate != null">
                AND RMOUTT_TXDATE = #{rmouttTxdate,jdbcType=CHAR}
            </if>
            <if test='rmouttBrno != null and rmouttBrno !=" "'>
                AND RMOUTT_BRNO =  #{rmouttBrno,jdbcType=CHAR}
            </if>
            <if test="rmouttFepno != null">
                AND RMOUTT_FEPNO = #{rmouttFepno,jdbcType=CHAR}
            </if>
            <if test='rmouttOriginal != null and rmouttOriginal !=" "'>
                AND RMOUTT_ORIGINAL = #{rmouttOriginal,jdbcType=CHAR}
            </if>
            <if test="rmouttBatchno != null">
                AND RMOUTT_BATCHNO = #{rmouttBatchno,jdbcType=VARCHAR}
            </if>
            <if test="rmouttInAccIdNo != null">
                AND RMOUTT_IN_ACC_ID_NO = #{rmouttInAccIdNo,jdbcType=CHAR}
            </if>
            <if test="rmouttFiscRtnCode != null and rmouttFiscRtnCode != ''">
                AND RMOUTT_FISC_RTN_CODE = #{rmouttFiscRtnCode,jdbcType=VARCHAR}
            </if>
            <if test="rmouttStan != null">
                AND RMOUTT_STAN = #{rmouttStan,jdbcType=CHAR}
            </if>
            <if test="rmouttRmsno != null">
                AND RMOUTT_RMSNO = #{rmouttRmsno,jdbcType=CHAR}
            </if>
            <if test="rmouttFiscsno != null">
                AND RMOUTT_FISCSNO = #{rmouttFiscsno,jdbcType=CHAR}
            </if>
            <if test="rmouttOwpriority != null">
                AND RMOUTT_OWPRIORITY = #{rmouttOwpriority,jdbcType=CHAR}
            </if>
        </where>
    </select>
    <select id="getTotalCntByStat" resultType="java.lang.Integer">
        SELECT COUNT(*) as cnt FROM RMOUTT
        <where>
            <if test="date != null and date !=''">
                AND RMOUTT_TXDATE = #{date,jdbcType=CHAR}
            </if>
            <if test="stat != null and stat !=''">
                AND RMOUTT_STAT = #{stat,jdbcType=CHAR}
            </if>
        </where>
    </select>
    <update id="updateRMOUTTByFISCNO" parameterType="com.syscom.fep.mybatis.model.Rmoutt">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update RMOUTT
        SET
        RMOUTT_STAT = #{rmouttStat,jdbcType=CHAR},
        RMOUTT_FISC_RTN_CODE = #{rmouttFiscRtnCode,jdbcType=VARCHAR}
        WHERE RMOUTT_FISCSNO = #{rmouttFiscsno,jdbcType=CHAR}
        AND RMOUTT_TXDATE = #{rmouttTxdate,jdbcType=CHAR}
        AND RMOUTT_STAT = '05'
    </update>

    <select id="getRMOUTTbyTXAMT" parameterType="map" resultMap="com.syscom.fep.mybatis.mapper.RmouttMapper.BaseResultMap">
        SELECT
        <include refid="com.syscom.fep.mybatis.mapper.RmouttMapper.Base_Column_List"/>
        FROM RMOUTT
        WHERE RMOUTT_TXDATE = #{txDate,jdbcType=VARCHAR}
        AND RMOUTT_TXAMT &gt;= #{txAmt,jdbcType=DECIMAL}
    </select>

    <select id="getRMOUTTbyReceiverBANK" parameterType="map" resultMap="com.syscom.fep.mybatis.mapper.RmouttMapper.BaseResultMap">
        SELECT
        <include refid="com.syscom.fep.mybatis.mapper.RmouttMapper.Base_Column_List"/>
        FROM RMOUTT
        WHERE RMOUTT_TXDATE = #{txDate,jdbcType=VARCHAR}
        <if test="receiverBANK.length() == 3">
            AND SUBSTR(RMOUTT_RECEIVER_BANK,1,3) = #{receiverBANK,jdbcType=CHAR}
        </if>
        <if test="receiverBANK.length() == 7">
            AND RMOUTT_RECEIVER_BANK = #{receiverBANK,jdbcType=CHAR}
        </if>
    </select>

    <update id="updateRMOUTTByDef">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update RMOUTT
        SET RMOUTT_OWPRIORITY = #{owpriority,jdbcType=CHAR}
        <where>
            <if test='rmoutt.rmouttTxdate != null and rmoutt.rmouttTxdate != " "'>
                AND RMOUTT_TXDATE = #{rmoutt.rmouttTxdate,jdbcType=CHAR}
            </if>
            <if test="rmoutt.rmouttReceiverBank != null">
                <if test="rmoutt.rmouttReceiverBank.length() == 3">
                    AND SUBSTR(RMOUTT_RECEIVER_BANK,1,3) = #{rmoutt.rmouttReceiverBank,jdbcType=CHAR}
                </if>
                <if test="rmoutt.rmouttReceiverBank.length() == 6">
                    AND SUBSTR(RMOUTT_RECEIVER_BANK,1,6) = #{rmoutt.rmouttReceiverBank,jdbcType=CHAR}
                </if>
                <if test="rmoutt.rmouttReceiverBank.length() == 7">
                    AND RMOUTT_RECEIVER_BANK = #{rmoutt.rmouttReceiverBank,jdbcType=CHAR}
                </if>
            </if>
            <if test="rmoutt.rmouttInAccIdNo != null">
                AND RMOUTT_IN_ACC_ID_NO = #{rmoutt.rmouttInAccIdNo,jdbcType=CHAR}
            </if>
            <if test="rmoutt.rmouttTxamt != null">
                AND RMOUTT_TXAMT = #{rmoutt.rmouttTxamt,jdbcType=DECIMAL}
            </if>
            <if test="rmoutt.rmouttOwpriority != null">
                AND RMOUTT_OWPRIORITY = #{rmoutt.rmouttOwpriority,jdbcType=CHAR}
            </if>
        </where>
    </update>
    <select id="getSumByStatGroupByBrno" parameterType="map" resultType="java.util.HashMap">
        SELECT COUNT(*) as CNT ,NVL(SUM(RMOUTT_TXAMT),'0') as AMT,NVL(RMOUTT_BRNO,' ') AS RMOUTT_BRNO FROM RMOUTT
        WHERE RMOUTT_TXDATE = #{date,jdbcType=CHAR}
        AND RMOUTT_STAT IN
        <foreach collection="stats" item="stat" index="index" open="(" close=")" separator=",">
            #{stat}
        </foreach>
        GROUP BY RMOUTT_BRNO
        ORDER BY RMOUTT_BRNO
    </select>

    <select id="getRMOUTTByTxdateBrno" parameterType="map" resultType="java.util.HashMap">
        SELECT
        RMOUTT_TXDATE AS TXDATE,
        NVL(RMOUTT_SENDTIME,' ') AS SENDTIME,
        NVL(RMOUTT_SENDER_BANK,' ') AS SENDER_BANK,
        NVL(RMOUTT_RECEIVER_BANK,' ') AS RECEIVER_BANK,
        NVL(RMOUTT_IN_ACC_ID_NO,' ') AS ACTNO,
        NVL(RMOUTT_TXAMT,'0') AS AMT,
        NVL(RMOUTT_STAT,' ') AS STAT,
        NVL(RMOUTT_FISC_RTN_CODE,' ') AS RC
        FROM RMOUTT
        WHERE RMOUTT_TXDATE = #{txdate,jdbcType=CHAR}
        <if test="brno !=''">
            AND RMOUTT_BRNO = #{brno,jdbcType=CHAR}
        </if>
        AND RMOUTT_STAT IN  ('04','05','07','08', '99')
    </select>

</mapper>